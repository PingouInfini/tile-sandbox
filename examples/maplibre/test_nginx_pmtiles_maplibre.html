<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>PMTiles Explorer - Protomaps</title>
  <link rel="stylesheet" href="css/maplibre-gl-3.6.2.css" />
  <link rel="stylesheet" href="css/style.css" />
  <script src="js/vendors/maplibre-3.6.2.js"></script>
  <script src="js/vendors/pmtiles-3.0.6.js"></script>
</head>
<body>

<div id="map"></div>

<div id="ui-panel">
  <button id="panel-toggle-btn" title="Masquer/Afficher le panneau">◀</button>
  <div class="panel-section">
    <h3>Recherche</h3>
    <div class="search-container">
      <input type="text" id="search-input" placeholder="Chercher un lieu..." autocomplete="off">
      <div id="search-results" class="autocomplete-results"></div>
    </div>
  </div>

  <hr>

  <div class="panel-section">
    <h3>Itinéraire</h3>
    <div id="route-inputs">
      </div>
    <div class="route-actions">
      <button id="add-point-btn" class="small-btn">+ Ajouter étape</button>
      <button id="calc-route-btn" class="primary-btn">Calculer</button>
      <button id="clear-route-btn" class="secondary-btn">Effacer</button>
    </div>
    <div id="route-summary" class="route-summary"></div>
    <div id="route-instructions" class="instructions-list"></div>
  </div>

  <hr>

  <div class="panel-section">
    <h3>Calques</h3>
    <button id="reset-config">Réinitialiser par défaut</button>
    <div id="controls-container"></div>
    
    <div class="layer-control" id="raster-control-box">
       <label>Relief (Hillshade)</label>
       <input type="checkbox" id="toggle-hillshade" checked>
    </div>
    
    </div>
</div>

<script src="js/config.js"></script>
<script>
  window.APP_STATE = {
    mode: 'protomaps',
    sourceUrl: MAP_CONFIG.urls.pmtiles_osm,
    center: [9.1, 42.1], zoom: 9
  };
</script>
<script src="js/map.js"></script>
</body>
</html>