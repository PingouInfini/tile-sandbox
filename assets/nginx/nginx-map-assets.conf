server {
    listen 80;
    server_name _;

    # =========================
    # Fonts
    # =========================
    location /fonts/ {
        root /usr/share/nginx/html;
        autoindex on;
        access_log off;
        sendfile off;

        types {
            application/x-protobuf pbf;
        }

        add_header 'Access-Control-Allow-Origin' '*';
        add_header 'Access-Control-Allow-Methods' 'GET, OPTIONS';
        add_header 'Access-Control-Allow-Headers' 'Origin, Content-Type, Accept';
    }

    # =========================
    # PMTiles
    # =========================
    location /pmtiles/ {
        root /usr/share/nginx/html;
        autoindex on;

        # IMPORTANT pour PMTiles
        sendfile off;

        # Support HTTP Range (obligatoire)
        add_header 'Accept-Ranges' 'bytes';

        # CORS
        add_header 'Access-Control-Allow-Origin' '*';
        add_header 'Access-Control-Allow-Methods' 'GET, OPTIONS';
        add_header 'Access-Control-Allow-Headers' 'Origin, Content-Type, Accept';
    }
}
